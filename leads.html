<button onclick="gen()">Genereer offerte-tekst</button>
<button onclick="copyText()" style="background:#19b36b">Kopieer tekst</button>
<a id="dl" download="offerte.txt" style="margin-left:8px; color:#9fbcff">Download .txt</a>
<button onclick="sendMail()" style="background:#f6b82b;margin-left:8px;">Stuur mail</button>
<div id="result"></div>async function sendMail(){
  if(!result.textContent){ alert('Genereer eerst een offerte.'); return; }
  const payload = {
    name: name.value.trim(),
    email: email.value.trim(),
    content: result.textContent
  };
  const r = await fetch('/api/mail',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
  const j = await r.json().catch(()=>({}));
  alert(j.status==='ok' ? 'Mail verzonden ✅' : 'Verzenden mislukt ❌');
}
